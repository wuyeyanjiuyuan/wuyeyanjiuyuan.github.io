<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>午夜研究院</title>
  <link rel="icon" href="images/icon.ico" sizes="16x16">

  <!-- 样式 -->
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/loading.css">
  <link rel="stylesheet" href="css/lunbo.css">
  <link rel="stylesheet" href="css/search-form.css">

  <!-- jQuery -->
  <script src="live2d/assets/jquery.min.js"></script>
  <script src="live2d/assets/jquery-ui.min.js"></script>

  <!-- 禁止转码 -->
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
</head>

<body>
  <!-- 顶部导航 -->
  <header class="navbar">
    <div class="logo">
      <a href="https://wuyeyanjiuyuan.github.io/">
        <img src="images/logo.png" alt="午夜研究院 Logo">
      </a>
    </div>

    <nav class="nav-links">
      <a href="https://wuyeyanjiuyuan.github.io/pix2text" target="_blank">Pix2Text</a>
      <a href="https://space.bilibili.com/13308970" target="_blank">Bilibili</a>
      <a href="https://www.cnki.net/" target="_blank">CNKI</a>
      <a href="#">关于我们</a>
    </nav>

    <!-- 搜索模块容器 -->
    <div id="module-search" class="module"></div>
  </header>

  <!-- 模块区 -->
  <main>
    <div id="module-carousel" class="module"></div>
    <div id="module-featured" class="module"></div>
    <div id="module-live2d" class="module"></div>
    <div id="module-effects" class="module"></div>
  </main>

  <!-- 页脚 -->
  <footer class="footer">
    <p>Copyright &copy; 2025 午夜研究院 | 保留所有权利</p>
  </footer>

  <!-- 模块加载 + 动画逻辑 -->
  <script>
    $(function(){
      // 模块路径表（对应 modules 目录下的 HTML 文件）
      const modules = {
        "#module-search": "modules/search.html",
        "#module-carousel": "modules/carousel.html",
        "#module-featured": "modules/featured.html",
        "#module-live2d": "modules/live2d.html",
        "#module-effects": "modules/effects.html"
      };

      // 初始化加载动画
      for (let id in modules) {
        $(id).html('<div class="loader"></div>');
      }

      // 异步加载模块 + 添加渐显动画
      for (let id in modules) {
        $(id).load(modules[id], function(){
          const $module = $(this);
          $module.find('.loader').fadeOut(200, function(){
            $(this).remove();
            $module.addClass('loaded');
          });
        });
      }
    });
  </script>
</body>
</html>
